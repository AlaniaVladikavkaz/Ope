**Просмотр списка питомцев владельца** 

**User Story:**

Как владелец питомца, я хочу иметь возможность просмотреть список всех своих питомцев в приложении ветеринарной клиники.

**Критерии приемки:**

Я должен иметь возможность войти в приложение как зарегистрированный владелец питомца.

После входа в приложение, мне должен быть доступен список всех моих питомцев с их данными (имя, возраст, порода и др.).

Я должен иметь возможность выбрать питомца из списка и получить дополнительную информацию о нем.

**Use Case:**

Просмотр списка питомцев владельца

Акторы: Зарегистрированный владелец питомца

**Предусловия:**

Пользователь успешно авторизован в приложении.

**Основной поток событий:**

1. Пользователь открывает приложение ветеринарной клиники и входит в систему.
1. После успешной авторизации, Пользователь попадает на главный экран приложения.
1. Пользователь выбирает опцию "Мои питомцы" из главного меню.
1. Приложение отображает список всех питомцев Пользователя с их краткой информацией (имя, возраст, порода).
1. Пользователь выбирает конкретного питомца из списка.
1. Приложение отображает подробную информацию о выбранном питомце, включая медицинскую историю и предыдущие посещения в клинику.

**Постусловия:**

Пользователь имеет доступ к детальной информации о выбранном питомце и его истории лечения.

**Альтернативные потоки и исключения:**

Шаг 4: Если у Пользователя нет зарегистрированных питомцев, приложение отображает сообщение о том, что список пуст.

Шаг 5: Если выбранного питомца не существует, приложение выводит сообщение о том, что питомец не найден.

**Rest JSON запрос/ответ**

**Пример запроса**

Для страницы владельца, на которой будет выводиться список его питомцев

GET /owners/{ownerId}/pets

**Пример ответа**

HTTP/1.1 200 OK

Content-Type: application/json

{

`  `"pets": [

`    `{

`      `"id": 1,

`      `"name": "Барон",

`      `"age": 3,

`      `"breed": "Лабрадор",

`      `"owner": {

`        `"id": 123,

`        `"firstName": "Иван",

`        `"lastName": "Петров"

`      `}

`    `},

`    `{

`      `"id": 2,

`      `"name": "Лиза",

`      `"age": 2,

`      `"breed": "Бультерьер",

`      `"owner": {

`        `"id": 123,

`        `"firstName": "Иван",

`        `"lastName": "Петров"

`      `}

`    `}

`  `]

}

**Пример запроса**

Для страницы со списком всех питомцев, на которой можно будет найти собак без владельца.

GET /pets

**Пример ответа**

HTTP/1.1 200 OK

Content-Type: application/json

{

`  `"pets": [

`    `{

`      `"id": 1,

`      `"name": "Барон",

`      `"age": 3,

`      `"breed": "Лабрадор",

`      `"owner": {

`        `"id": 123,

`        `"firstName": "Иван",

`        `"lastName": "Петров"

`      `}

`    `},

`    `{

`      `"id": 2,

`      `"name": "Лиза",

`      `"age": 2,

`      `"breed": "Бультерьер",

`      `"owner": null

`    `}

`  `]

}

**Запрос/Ответ OpenApi**

Для страницы владельца, на которой будет выводиться список его питомцев

**Пример запроса**

{

`  `"paths": {

`    `"/owners/{ownerId}/pets": {

`      `"get": {

`        `"summary": "Получить список питомцев владельца",

`        `"parameters": [

`          `{

`            `"name": "ownerId",

`            `"in": "path",

`            `"required": true,

`            `"schema": {

`              `"type": "integer"

`            `},

`            `"description": "ID владельца"

`          `}

`        `],

`        `"responses": {

`          `"200": {

`            `"description": "Успешный запрос",

`            `"content": {

`              `"application/json": {

`                `"example": {

`                  `"pets": [

`                    `{

`                      `"id": 1,

`                      `"name": "Барон",

`                      `"age": 3,

`                      `"breed": "Лабрадор",

`                      `"owner": {

`                        `"id": 123,

`                        `"firstName": "Иван",

`                        `"lastName": "Петров"

`                      `}

`                    `},

`                    `{

`                      `"id": 2,

`                      `"name": "Лиза",

`                      `"age": 2,

`                      `"breed": "Бультерьер",

`                      `"owner": {

`                        `"id": 123,

`                        `"firstName": "Иван",

`                        `"lastName": "Петров"

`                      `}

`                    `}

`                  `]

`                `}

`              `}

`            `}

`          `}

`        `}

`      `}

`    `}

`  `}

}

**Пример ответа**

{

`  `"pets": [

`    `{

`      `"id": 1,

`      `"name": "Барон",

`      `"age": 3,

`      `"breed": "Лабрадор",

`      `"owner": {

`        `"id": 123,

`        `"firstName": "Иван",

`        `"lastName": "Петров"

`      `}

`    `},

`    `{

`      `"id": 2,

`      `"name": "Лиза",

`      `"age": 2,

`      `"breed": "Бультерьер",

`      `"owner": {

`        `"id": 123,

`        `"firstName": "Иван",

`        `"lastName": "Петров"

`      `}

`    `}

`  `]

}

**JSON схема запроса/ответа**

|**Элемент**|**Множественность**			|**Наименование**|**Тип данных**|**Пример данных**|
| :- | :- | :- | :- | :- |
|/owners/{ownerId}/pets	|Одиночное			|Владелец и питомцы||Пример запроса: /owners/123/pets|
||Множественное		|Список питомцев	||Пример ответа: см. ниже|
|ownerId				|Одиночное|ID владельца|integer|Пример: 123|
|pets			|Множественное	|Питомцы|array|Пример: Список объектов питомцев (см. ниже)|
|id				|Одиночное|ID питомца|integer|Пример: 1|
|name				|Одиночное|Имя питомца|string|Пример: "Барон"|
|age				|Одиночное|Возраст питомца|integer|Пример: 3|
|breed			|Одиночное|Порода питомца	|string|Пример: "Лабрадор"|
|owner			|Одиночное|Владелец|object	|Пример: Объект владельца (см. ниже)|
|firstName				|Одиночное|Имя владельца|string|Пример: "Иван"|
|lastName				|Одиночное|Фамилия владельца|string|Пример: "Петров"|

**Запрос/Ответ OpenApi**

Для страницы со списком всех питомцев, на которой можно будет найти собак без владельца.

**Пример запроса**

{

`  `"paths": {

`    `"/pets": {

`      `"get": {

`        `"summary": "Получить список всех питомцев",

`        `"responses": {

`          `"200": {

`            `"description": "Успешный запрос",

`            `"content": {

`              `"application/json": {

`                `"example": {

`                  `"pets": [

`                    `{

`                      `"id": 1,

`                      `"name": "Барон",

`                      `"age": 3,

`                      `"breed": "Лабрадор",

`                      `"owner": {

`                        `"id": 123,

`                        `"firstName": "Иван",

`                        `"lastName": "Петров"

`                      `}

`                    `},

`                    `{

`                      `"id": 2,

`                      `"name": "Лиза",

`                      `"age": 2,

`                      `"breed": "Бультерьер",

`                      `"owner": null

`                    `}

`                  `]

`                `}

`              `}

`            `}

`          `}

`        `}

`      `}

`    `}

`  `}

}

**Пример ответа**

{

`  `"pets": [

`    `{

`      `"id": 1,

`      `"name": "Барон",

`      `"age": 3,

`      `"breed": "Лабрадор",

`      `"owner": {

`        `"id": 123,

`        `"firstName": "Иван",

`        `"lastName": "Петров"

`      `}

`    `},

`    `{

`      `"id": 2,

`      `"name": "Лиза",

`      `"age": 2,

`      `"breed": "Бультерьер",

`      `"owner": null

`    `}

`  `]

}

**JSON схема запроса/ответа**

|**Элемент**|**Множественность**|**Тип данных**|**Наименование**|**Пример данных**|
| :- | :- | :- | :- | :- |
|/pets|Одиночное|-|Список питомцев|Пример запроса: /pets|
||Множественное|-|Питомцы|Пример ответа: см. ниже|
|pets|Множественное|-|Питомцы|Пример: Список объектов питомцев (см. ниже)|
|id|Одиночное|integer|ID питомца|Пример: 1|
|name|Одиночное|string|Имя питомца|Пример: "Барон"|
|age|Одиночное|integer|Порода питомца|Пример: 3|
|breed				|Одиночное	|string|Порода питомца|Пример: "Лабрадор"|
|owner|Одиночное	|object|Владелец|Пример: Объект владельца (см. ниже) или null|
|firstName				|Одиночное|string|Имя владельца|Пример: "Иван" или null|
|lastName				|Одиночное|string|Фамилия владельца|Пример: "Петров" или null|

